---
import Hamburger from "../assets/icons/hamburger.astro";
import Logo from "./logo.astro";
import Menu from "./menu.astro";
import Button from "./ui/button.astro";
---

<header class="site-header">
   
    <nav class="container">
        <div class="brand">
            <div class="mobile-nav mr-2">
                <button>
                    <Hamburger />
                </button>
            </div>
            <Logo />
        </div>
       <Menu />
    </nav>
    <div class="mobile-menu hidden">
        <Menu />
    </div>
</header>

<style lang="scss">
    header {
        background-color: var(--primary-transparent);
        .mobile-nav {
            display: none;
        }
        nav {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            flex-direction: row;
            align-items: center;
           
            .brand{
                display: flex;
                align-items: center;
                gap: 1rem;
            }
            
        }
    }
    button{
        cursor: pointer;
    }

    @media (max-width: 1026px) {

        .mobile-nav {
            display: flex!important;
            cursor: pointer;
        }
        .actions {
            display: none;
        }
    }

    .hidden {
        display: none;
    }
</style>
<script>
    const button = document.querySelector("button");
    const mobileMenu = document.querySelector(".mobile-menu");
    const drawer = document.querySelector(".mobile-menu .menu");

    button?.addEventListener("click", () => {
        mobileMenu?.classList.toggle("hidden");
        drawer?.classList.toggle("open");
    });
    const handleResize = () => {
        if (window.innerWidth > 1026 && !mobileMenu?.classList.contains("hidden")) {
            mobileMenu?.classList.add("hidden");
            drawer?.classList.remove("open");
        }
    };
    window.addEventListener("resize", handleResize);
</script>